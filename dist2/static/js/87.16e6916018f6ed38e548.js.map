{"version":3,"sources":["webpack:///static/js/87.16e6916018f6ed38e548.js","webpack:///./src/components/Wap/yayiCircle/newTrend.vue?f8a1","webpack:///./src/components/Wap/yayiCircle/newTrend.vue?822f","webpack:///./src/components/Wap/yayiCircle/newTrend.vue?3789","webpack:///./src/components/Wap/yayiCircle/newTrend.vue","webpack:///newTrend.vue"],"names":["webpackJsonp","1057","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","1203","content","locals","1415","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","closePage","_v","class","isInput","inputer","imageUrl","length","release","directives","name","rawName","value","expression","attrs","id","cols","rows","placeholder","domProps","input","$event","target","composing","limit","action","qiNiuConfig","url","data","qiNiuToken","list-type","on-remove","handleRemove","on-success","uploadFile","staticRenderFns","308","injectStyle","ssrContext","Component","921","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__vuex_types__","__WEBPACK_IMPORTED_MODULE_2_mint_ui__","n","dialogImageUrl","dialogVisible","$store","state","index","methods","fileList","r","indexOf","response","key","splice","_this","args","momentType","momentContent","momentPicture","momentContentId","tmp","map","val","arr","ShUrl","join","console","log","dispatch","then","res","message","duration","$router","_this2","confirm","go","created","_this3","token","msg"],"mappings":"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","file":"static/js/87.16e6916018f6ed38e548.js","sourcesContent":["webpackJsonp([87],{\n\n/***/ 1057:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(242)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".header[data-v-7cbda07e]{position:fixed;top:0;left:0;width:100%;height:11.73333vw;z-index:999;line-height:11.73333vw;text-align:center;background-color:#3676b5;color:#fff}.header span[data-v-7cbda07e]:first-child{display:inline-block;width:13.33333vw;float:left;font-size:4vw}.header span[data-v-7cbda07e]:nth-child(2){display:inline-block;font-size:4.8vw}.noInput[data-v-7cbda07e]{width:13.33333vw;float:right;display:inline-block;font-size:4vw;color:#ddd}.isInput[data-v-7cbda07e]{color:#fff!important}.container[data-v-7cbda07e]{position:fixed;top:11.73333vw;bottom:0;overflow:scroll;width:100%;-webkit-overflow-scrolling:touch}.container .inputArea[data-v-7cbda07e]{width:100%;min-height:50.66667vw}.container .inputArea textarea[data-v-7cbda07e]{width:100%;padding:2.66667vw;min-height:50.66667vw;resize:none;border:none}\", \"\", {\"version\":3,\"sources\":[\"D:/yayiApp/src/components/Wap/yayiCircle/newTrend.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,kBAAmB,AACnB,YAAa,AACb,uBAAwB,AACxB,kBAAmB,AACnB,yBAA0B,AAC1B,UAAY,CACb,AACD,0CACI,qBAAsB,AACtB,iBAAkB,AAClB,WAAY,AACZ,aAAe,CAClB,AACD,2CACI,qBAAsB,AACtB,eAAiB,CACpB,AACD,0BACE,iBAAkB,AAClB,YAAa,AACb,qBAAsB,AACtB,cAAe,AACf,UAAY,CACb,AACD,0BACE,oBAAuB,CACxB,AACD,4BACE,eAAgB,AAChB,eAAgB,AAChB,SAAU,AACV,gBAAiB,AACjB,WAAY,AACZ,gCAAkC,CACnC,AACD,uCACI,WAAY,AACZ,qBAAuB,CAC1B,AACD,gDACM,WAAY,AACZ,kBAAmB,AACnB,sBAAuB,AACvB,YAAa,AACb,WAAa,CAClB\",\"file\":\"newTrend.vue\",\"sourcesContent\":[\"\\n.header[data-v-7cbda07e] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 11.73333vw;\\n  z-index: 999;\\n  line-height: 11.73333vw;\\n  text-align: center;\\n  background-color: #3676B5;\\n  color: #fff;\\n}\\n.header span[data-v-7cbda07e]:nth-child(1) {\\n    display: inline-block;\\n    width: 13.33333vw;\\n    float: left;\\n    font-size: 4vw;\\n}\\n.header span[data-v-7cbda07e]:nth-child(2) {\\n    display: inline-block;\\n    font-size: 4.8vw;\\n}\\n.noInput[data-v-7cbda07e] {\\n  width: 13.33333vw;\\n  float: right;\\n  display: inline-block;\\n  font-size: 4vw;\\n  color: #ddd;\\n}\\n.isInput[data-v-7cbda07e] {\\n  color: #fff !important;\\n}\\n.container[data-v-7cbda07e] {\\n  position: fixed;\\n  top: 11.73333vw;\\n  bottom: 0;\\n  overflow: scroll;\\n  width: 100%;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.container .inputArea[data-v-7cbda07e] {\\n    width: 100%;\\n    min-height: 50.66667vw;\\n}\\n.container .inputArea textarea[data-v-7cbda07e] {\\n      width: 100%;\\n      padding: 2.66667vw;\\n      min-height: 50.66667vw;\\n      resize: none;\\n      border: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1203:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1057);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(243)(\"722c31d6\", content, true);\n\n/***/ }),\n\n/***/ 1415:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"header\"\n  }, [_c('span', {\n    on: {\n      \"click\": _vm.closePage\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('span', [_vm._v(\"发动态\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"noInput\",\n    class: {\n      isInput: _vm.inputer || _vm.imageUrl.length > 0\n    },\n    on: {\n      \"click\": _vm.release\n    }\n  }, [_vm._v(\"发布\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"container\"\n  }, [_c('div', {\n    staticClass: \"inputArea\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputer),\n      expression: \"inputer\"\n    }],\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"\",\n      \"cols\": \"30\",\n      \"rows\": \"10\",\n      \"placeholder\": \"这一刻的想法...\"\n    },\n    domProps: {\n      \"value\": (_vm.inputer)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputer = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', [_c('el-upload', {\n    attrs: {\n      \"limit\": \"9\",\n      \"action\": _vm.qiNiuConfig.url,\n      \"data\": _vm.qiNiuToken,\n      \"list-type\": \"picture-card\",\n      \"on-remove\": _vm.handleRemove,\n      \"on-success\": _vm.uploadFile\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-plus\"\n  })])], 1)])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1203)\n}\nvar Component = __webpack_require__(62)(\n  /* script */\n  __webpack_require__(921),\n  /* template */\n  __webpack_require__(1415),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7cbda07e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 921:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__vuex_types__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_mint_ui__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_mint_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_mint_ui__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      dialogImageUrl: '',\n      dialogVisible: false,\n      inputer: '',\n      qiNiuToken: {},\n      qiNiuConfig: this.$store.state.index.qiNiuConfig,\n      imageUrl: []\n    };\n  },\n\n  methods: {\n    handleRemove: function handleRemove(file, fileList) {\n      var r = this.imageUrl.indexOf(file.response.key);\n      this.imageUrl.splice(r, 1);\n    },\n\n    //      handlePictureCardPreview(file) {\n    //        this.dialogImageUrl = file.url;\n    //        this.dialogVisible = true;\n    //      },\n    uploadFile: function uploadFile(response, file, fileList) {\n      this.imageUrl.push(file.response.key);\n    },\n    release: function release() {\n      var _this = this;\n\n      if (!this.inputer && this.imageUrl.length === 0) {\n        return;\n      }\n      var args = {\n        momentType: 1,\n        momentContent: '',\n        momentPicture: '',\n        momentContentId: ''\n      };\n      if (this.imageUrl) {\n        var tmp = this.imageUrl.map(function (val, index, arr) {\n          return _this.qiNiuConfig.ShUrl + val;\n        });\n        args.momentPicture = tmp.join(\";\");\n      }\n      args.momentContent = this.inputer;\n      console.log(args);\n      this.$store.dispatch(__WEBPACK_IMPORTED_MODULE_0__vuex_types__[\"_65\" /* NEW_TREND */], args).then(function (res) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_mint_ui__[\"Toast\"])({ message: '发布成功！', duration: 1500 });\n        _this.$router.push('/yayiCircle');\n      });\n    },\n    closePage: function closePage() {\n      var _this2 = this;\n\n      __WEBPACK_IMPORTED_MODULE_2_mint_ui__[\"MessageBox\"].confirm('是否退出本次编辑?').then(function (action) {\n        _this2.$router.go(-1);\n      });\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.$store.dispatch(__WEBPACK_IMPORTED_MODULE_0__vuex_types__[\"_26\" /* GET_UPLOAD_TOKEN */]).then(function (res) {\n      _this3.qiNiuToken = {\n        token: res.msg\n      };\n    });\n  }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/87.16e6916018f6ed38e548.js","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".header[data-v-7cbda07e]{position:fixed;top:0;left:0;width:100%;height:11.73333vw;z-index:999;line-height:11.73333vw;text-align:center;background-color:#3676b5;color:#fff}.header span[data-v-7cbda07e]:first-child{display:inline-block;width:13.33333vw;float:left;font-size:4vw}.header span[data-v-7cbda07e]:nth-child(2){display:inline-block;font-size:4.8vw}.noInput[data-v-7cbda07e]{width:13.33333vw;float:right;display:inline-block;font-size:4vw;color:#ddd}.isInput[data-v-7cbda07e]{color:#fff!important}.container[data-v-7cbda07e]{position:fixed;top:11.73333vw;bottom:0;overflow:scroll;width:100%;-webkit-overflow-scrolling:touch}.container .inputArea[data-v-7cbda07e]{width:100%;min-height:50.66667vw}.container .inputArea textarea[data-v-7cbda07e]{width:100%;padding:2.66667vw;min-height:50.66667vw;resize:none;border:none}\", \"\", {\"version\":3,\"sources\":[\"D:/yayiApp/src/components/Wap/yayiCircle/newTrend.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,kBAAmB,AACnB,YAAa,AACb,uBAAwB,AACxB,kBAAmB,AACnB,yBAA0B,AAC1B,UAAY,CACb,AACD,0CACI,qBAAsB,AACtB,iBAAkB,AAClB,WAAY,AACZ,aAAe,CAClB,AACD,2CACI,qBAAsB,AACtB,eAAiB,CACpB,AACD,0BACE,iBAAkB,AAClB,YAAa,AACb,qBAAsB,AACtB,cAAe,AACf,UAAY,CACb,AACD,0BACE,oBAAuB,CACxB,AACD,4BACE,eAAgB,AAChB,eAAgB,AAChB,SAAU,AACV,gBAAiB,AACjB,WAAY,AACZ,gCAAkC,CACnC,AACD,uCACI,WAAY,AACZ,qBAAuB,CAC1B,AACD,gDACM,WAAY,AACZ,kBAAmB,AACnB,sBAAuB,AACvB,YAAa,AACb,WAAa,CAClB\",\"file\":\"newTrend.vue\",\"sourcesContent\":[\"\\n.header[data-v-7cbda07e] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 11.73333vw;\\n  z-index: 999;\\n  line-height: 11.73333vw;\\n  text-align: center;\\n  background-color: #3676B5;\\n  color: #fff;\\n}\\n.header span[data-v-7cbda07e]:nth-child(1) {\\n    display: inline-block;\\n    width: 13.33333vw;\\n    float: left;\\n    font-size: 4vw;\\n}\\n.header span[data-v-7cbda07e]:nth-child(2) {\\n    display: inline-block;\\n    font-size: 4.8vw;\\n}\\n.noInput[data-v-7cbda07e] {\\n  width: 13.33333vw;\\n  float: right;\\n  display: inline-block;\\n  font-size: 4vw;\\n  color: #ddd;\\n}\\n.isInput[data-v-7cbda07e] {\\n  color: #fff !important;\\n}\\n.container[data-v-7cbda07e] {\\n  position: fixed;\\n  top: 11.73333vw;\\n  bottom: 0;\\n  overflow: scroll;\\n  width: 100%;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.container .inputArea[data-v-7cbda07e] {\\n    width: 100%;\\n    min-height: 50.66667vw;\\n}\\n.container .inputArea textarea[data-v-7cbda07e] {\\n      width: 100%;\\n      padding: 2.66667vw;\\n      min-height: 50.66667vw;\\n      resize: none;\\n      border: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7cbda07e\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Wap/yayiCircle/newTrend.vue\n// module id = 1057\n// module chunks = 87","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cbda07e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./newTrend.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"722c31d6\", content, true);\n\n\n// WEBPACK FOOTER //\n// \"}!./~/_vue-style-loader@3.0.3@vue-style-loader!./~/_css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7cbda07e\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Wap/yayiCircle/newTrend.vue","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"header\"\n  }, [_c('span', {\n    on: {\n      \"click\": _vm.closePage\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('span', [_vm._v(\"发动态\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"noInput\",\n    class: {\n      isInput: _vm.inputer || _vm.imageUrl.length > 0\n    },\n    on: {\n      \"click\": _vm.release\n    }\n  }, [_vm._v(\"发布\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"container\"\n  }, [_c('div', {\n    staticClass: \"inputArea\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputer),\n      expression: \"inputer\"\n    }],\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"\",\n      \"cols\": \"30\",\n      \"rows\": \"10\",\n      \"placeholder\": \"这一刻的想法...\"\n    },\n    domProps: {\n      \"value\": (_vm.inputer)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputer = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', [_c('el-upload', {\n    attrs: {\n      \"limit\": \"9\",\n      \"action\": _vm.qiNiuConfig.url,\n      \"data\": _vm.qiNiuToken,\n      \"list-type\": \"picture-card\",\n      \"on-remove\": _vm.handleRemove,\n      \"on-success\": _vm.uploadFile\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-plus\"\n  })])], 1)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-7cbda07e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Wap/yayiCircle/newTrend.vue\n// module id = 1415\n// module chunks = 87","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cbda07e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./newTrend.vue\")\n}\nvar Component = require(\"!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./newTrend.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cbda07e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./newTrend.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7cbda07e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Wap/yayiCircle/newTrend.vue\n// module id = 308\n// module chunks = 87","<template>\r\n  <div>\r\n    <div class=\"header\">\r\n      <span @click=\"closePage\">取消</span>\r\n      <span>发动态</span>\r\n      <span :class=\"{isInput:inputer || imageUrl.length > 0}\" class=\"noInput\" @click=\"release\">发布</span>\r\n    </div>\r\n    <div class=\"container\">\r\n      <div class=\"inputArea\">\r\n        <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" v-model=\"inputer\" placeholder=\"这一刻的想法...\"></textarea>\r\n      </div>\r\n      <div>\r\n        <el-upload\r\n          limit = '9'\r\n          :action=\"qiNiuConfig.url\"\r\n          :data=\"qiNiuToken\"\r\n          list-type=\"picture-card\"\r\n          :on-remove=\"handleRemove\"\r\n          :on-success=\"uploadFile\">\r\n          <!--:on-preview=\"handlePictureCardPreview\"-->\r\n          <i class=\"el-icon-plus\"></i>\r\n        </el-upload>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import {GET_UPLOAD_TOKEN, NEW_TREND } from '../../../vuex/types'\r\n  import {mapState} from 'vuex'\r\n  import {Toast, MessageBox } from 'mint-ui'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        dialogImageUrl: '',\r\n        dialogVisible: false,\r\n        inputer:'',\r\n        qiNiuToken:{},\r\n        qiNiuConfig:this.$store.state.index.qiNiuConfig,\r\n        imageUrl:[],\r\n      };\r\n    },\r\n    methods: {\r\n      handleRemove(file, fileList) {\r\n        let r = this.imageUrl.indexOf(file.response.key);\r\n        this.imageUrl.splice(r,1)\r\n      },\r\n//      handlePictureCardPreview(file) {\r\n//        this.dialogImageUrl = file.url;\r\n//        this.dialogVisible = true;\r\n//      },\r\n      uploadFile(response, file, fileList){\r\n        this.imageUrl.push(file.response.key)\r\n      },\r\n      release(){\r\n        if(!this.inputer && this.imageUrl.length === 0){\r\n          return\r\n        }\r\n        let args = {\r\n          momentType: 1,\r\n          momentContent: '',\r\n          momentPicture: '',\r\n          momentContentId:''\r\n        };\r\n        if(this.imageUrl) {\r\n          let tmp = this.imageUrl.map((val, index, arr) => {\r\n            return this.qiNiuConfig.ShUrl + val;\r\n          })\r\n          args.momentPicture = tmp.join(\";\")\r\n        }\r\n        args.momentContent = this.inputer\r\n        console.log(args);\r\n        this.$store.dispatch(NEW_TREND,args).then(res => {\r\n          Toast({message: '发布成功！', duration: 1500})\r\n          this.$router.push('/yayiCircle')\r\n        })\r\n      },\r\n      closePage(){\r\n        MessageBox.confirm('是否退出本次编辑?').then(action => {\r\n          this.$router.go(-1)\r\n        })\r\n      }\r\n    },\r\n    created(){\r\n      this.$store.dispatch(GET_UPLOAD_TOKEN).then(res => {\r\n        this.qiNiuToken = {\r\n          token: res.msg\r\n        }\r\n      })\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\" rel=\"stylesheet/scss\">\r\n  @import \"../../../common/sass/factory\";\r\n\r\n  .header {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: px2vw(88);\r\n    z-index: 999;\r\n    line-height: px2vw(88);\r\n    text-align: center;\r\n    background-color: $themeColor;\r\n    color: #fff;\r\n    span:nth-child(1){\r\n      display: inline-block;\r\n      width: px2vw(100);\r\n      float: left;\r\n      font-size: px2vw(30);\r\n    }\r\n    span:nth-child(2){\r\n      display: inline-block;\r\n      font-size: px2vw(36);\r\n    }\r\n  }\r\n  .noInput{\r\n    width: px2vw(100);\r\n    float: right;\r\n    display: inline-block;\r\n    font-size: px2vw(30);\r\n    color: #ddd;\r\n  }\r\n  .isInput{\r\n    color: #fff !important;\r\n  }\r\n  .container{\r\n    position: fixed;\r\n    top: px2vw(88);\r\n    bottom: 0;\r\n    overflow: scroll;\r\n    width: 100%;\r\n    -webkit-overflow-scrolling: touch;\r\n    .inputArea{\r\n      width: 100%;\r\n      min-height: px2vw(380);\r\n      textarea{\r\n        width: 100%;\r\n        padding: px2vw(20);\r\n        min-height: px2vw(380);\r\n        resize: none;\r\n        border: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// newTrend.vue?c462e4e6"],"sourceRoot":""}