webpackJsonp([84],{1064:function(t,n,e){n=t.exports=e(242)(!0),n.push([t.i,".login-container{padding:0 5vw}@media (max-width:320px){.login-container{padding:0 2vw;font-size:13px}}@media (max-width:320px){.login-container .mt-components,.mint-button,.mint-cell-wrapper{font-size:13px!important}}.login-container .type-container{margin:3vh 0;padding-left:3vw}.login-container .phone-container{margin-top:3vh}.login-container .nextStep{width:80vw;margin-left:5vw;margin-top:6vh}@media (max-width:320px){.login-container .nextStep{margin-left:10vw}}.login-container .yayi-btn{margin-right:5vw}@media (max-width:320px){.login-container .yayi-btn{margin-right:3vw}}.login-container .title{color:#26a2ff;font-size:18px;font-weight:600;margin-bottom:6vh}","",{version:3,sources:["D:/yayiApp/src/components/wx_user/children/userBindWx.vue"],names:[],mappings:"AACA,iBACE,aAAe,CAChB,AACD,yBACA,iBACI,cAAe,AACf,cAAgB,CACnB,CACA,AACD,yBAKA,gEACI,wBAA2B,CAC9B,CACA,AACD,iCACE,aAAc,AACd,gBAAkB,CACnB,AACD,kCACE,cAAgB,CACjB,AACD,2BACE,WAAY,AACZ,gBAAiB,AACjB,cAAgB,CACjB,AACD,yBACA,2BACI,gBAAkB,CACrB,CACA,AACD,2BACE,gBAAkB,CACnB,AACD,yBACA,2BACI,gBAAkB,CACrB,CACA,AACD,wBACE,cAAe,AACf,eAAgB,AAChB,gBAAiB,AACjB,iBAAmB,CACpB",file:"userBindWx.vue",sourcesContent:["\n.login-container {\n  padding: 0 5vw;\n}\n@media (max-width: 320px) {\n.login-container {\n    padding: 0 2vw;\n    font-size: 13px;\n}\n}\n@media (max-width: 320px) {\n.login-container .mt-components,\n  .mint-cell-wrapper {\n    font-size: 13px !important;\n}\n.mint-button {\n    font-size: 13px !important;\n}\n}\n.login-container .type-container {\n  margin: 3vh 0;\n  padding-left: 3vw;\n}\n.login-container .phone-container {\n  margin-top: 3vh;\n}\n.login-container .nextStep {\n  width: 80vw;\n  margin-left: 5vw;\n  margin-top: 6vh;\n}\n@media (max-width: 320px) {\n.login-container .nextStep {\n    margin-left: 10vw;\n}\n}\n.login-container .yayi-btn {\n  margin-right: 5vw;\n}\n@media (max-width: 320px) {\n.login-container .yayi-btn {\n    margin-right: 3vw;\n}\n}\n.login-container .title {\n  color: #26a2ff;\n  font-size: 18px;\n  font-weight: 600;\n  margin-bottom: 6vh;\n}\n"],sourceRoot:""}])},1210:function(t,n,e){var i=e(1064);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(243)("605691e8",i,!0)},1422:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login-container"},[e("div",{staticClass:"title"},[t._v("温馨提示 ：您的微信正在绑定牙医abc账号。绑定后，可直接微信登录牙医abc网站或创客系统。")]),t._v(" "),t.showType?e("div",{staticClass:"type-container"},[t._v("\n    类型：   \n    "),e("mt-button",{staticClass:"yayi-btn mt-components",attrs:{type:"doctor"===t.userState?"primary":"default",size:"small"},on:{click:function(n){t.userState="doctor"}}},[t._v("我是牙医/门诊\n    ")]),t._v(" "),e("mt-button",{staticClass:"ck-btn mt-components",attrs:{type:"sale"===t.userState?"primary":"default",size:"small"},on:{click:function(n){t.userState="sale"}}},[t._v("我是客户代表\n    ")])],1):t._e(),t._v(" "),e("div",{staticClass:"phone-container input-box"},[e("mt-field",{staticClass:"phone",attrs:{label:"手机号：",type:"tel",placeholder:"请输入手机号",state:t.phoneTest,attr:{maxlength:11}},nativeOn:{click:function(n){t.focus(n)}},model:{value:t.phone,callback:function(n){t.phone=n},expression:"phone"}})],1),t._v(" "),e("div",{staticClass:"code-container"},[e("mt-field",{staticClass:"mt-components",attrs:{label:"验证码：",placeholder:"请输入验证码",attr:{maxlength:4}},nativeOn:{click:function(n){t.focus(n)}},model:{value:t.captcha,callback:function(n){t.captcha=n},expression:"captcha"}},[e("mt-button",{staticClass:"code-btn mt-components",attrs:{size:"small",disabled:"获取验证码"!==t.captchaInfo,type:"获取验证码"!==t.captchaInfo?"default":"primary"},on:{click:t.getCaptcha}},[t._v(t._s(t.captchaInfo)+"\n      ")])],1)],1),t._v(" "),e("mt-button",{staticClass:"nextStep",attrs:{type:"primary"},on:{click:t.nextStep}},[t._v("下一步")])],1)},staticRenderFns:[]}},332:function(t,n,e){function i(t){e(1210)}var o=e(62)(e(948),e(1422),i,null,null);t.exports=o.exports},948:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(24),o=(e.n(i),e(35)),a=e(111);n.default={name:"userBindWx",data:function(){return{phone:"",captcha:"",captchaInfo:"获取验证码",userState:"doctor",showType:!0,openid:"",bindInfo:{},token:"",entry:"",salePhone:""}},methods:{focus:function(t){var n="";if("mint-cell-wrapper"===t.target.className)n=t.target;else if("mint-cell-title"===t.target.className)n=t.target.parentNode;else{if("mint-cell-text"!==t.target.className)return!1;n=t.target.parentNode.parentNode}n.children[1].children[0].focus()},getCaptcha:function(){if("success"!==this.phoneTest)return void e.i(i.Toast)({message:"请检查手机号是否正确",duration:3e3});i.Indicator.open(),this.computedRestTime(),this.$store.dispatch(o.e,{phone:this.phone}).then(function(t){if(i.Indicator.close(),"No_Error"===t.errorCode)return void e.i(i.Toast)({message:"验证码发送成功",duration:3e3});e.i(i.Toast)({message:t.msg,duration:3e3})}).catch(function(){i.Indicator.close(),e.i(i.Toast)({message:"验证码获取出现异常",duration:3e3})})},computedRestTime:function(){var t=this;if("获取验证码"===this.captchaInfo)var n=60,e=setInterval(function(){n--,n<=0?(t.captchaInfo="获取验证码",clearInterval(e)):t.captchaInfo="请等待 "+n+"s"},1e3)},nextStep:function(){if(!this.phone&&!this.captcha)return void e.i(i.Toast)({message:"请输入手机号和验证码",duration:3e3});i.Indicator.open(),"sale"===this.userState?this.saleBind():this.doctorBind()},saleBind:function(){var t=this;this.$store.dispatch(o.b,{phone:this.phone,verifyCode:this.captcha,type:"2"}).then(function(n){i.Indicator.close(),"Verify_Code_Error"===n.errorCode?(e.i(i.Toast)({message:"您输入的验证码有误，请重试！",duration:3e3}),t.captcha=""):t.$router.replace({path:"/wx_user/userRegisterWx",query:{role:"sale",captcha:t.captcha,phone:t.phone,openid:t.openid}})}).catch(function(t){i.Indicator.close(),e.i(i.Toast)({message:"绑定出现异常",duration:3e3})})},doctorBind:function(){var t=this;this.$store.dispatch(o.b,{phone:this.phone,verifyCode:this.captcha,type:"1",salePhone:this.salePhone}).then(function(n){i.Indicator.close(),"Verify_Code_Error"===n.errorCode?(e.i(i.Toast)({message:"您输入的验证码有误，请重试！",duration:3e3}),t.captcha=""):(a.a.setToken(n.token),t.$router.replace({path:"/wx_user/userRegisterWx",query:{role:"doctor",captcha:t.captcha,phone:t.phone,openid:t.openid,entry:t.entry,salePhone:t.salePhone}}))}).catch(function(t){console.log(t,"userBind组件错误信息"),e.i(i.Toast)({message:"绑定出现异常",duration:3e3})})},qrCodeInit:function(){this.showType=!1,this.salePhone=this.$route.query.salePhone,this.entry=this.$route.query.entry},saleInit:function(){this.userState="sale"}},computed:{phoneTest:function(){var t=+this.phone;return/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(t)?"success":0===t?"":"error"}},created:function(){"qrcode"===this.$route.query.entry&&this.qrCodeInit(),"sale"===this.$route.query.role&&this.saleInit(),this.openid=this.$route.query.openid}}}});
//# sourceMappingURL=84.de3ba780aa94dc63935a.js.map